import{c as b,f as sa,g as Na,e as j,h as Aa}from"./@babel-38a01a7f.js";import{F as Wa,h as V,_ as ur,q as za,N as Qe,p as me,y as q,j as Va,s as ha,b as qa,T as Ua,a as Ue,A as ja,c as Qa,g as Ea}from"./preact-0e59a8f0.js";import{c as je,a as Z,d as Ia,u as Ja,r as ma,s as Ba,e as Ra,f as Ga,h as Ka,i as Qr,j as ca,k as Za,l as ya,g as fa,m as Ya,n as Xa}from"./rc-util-010eb662.js";import{c as ne}from"./classnames-02e3a58f.js";import{R as Ha}from"./rc-resize-observer-5ec527d8.js";import{C as xa}from"./rc-motion-27ebd0ac.js";import"./react-is-e5978b8b.js";var Fa=Wa(null),Ca=[];function Oa(r,a){var e=V(function(){if(!je())return null;var h=document.createElement("div");return h}),n=b(e,1),o=n[0],u=ur(!1),v=za(Fa),s=V(Ca),f=b(s,2),d=f[0],P=f[1],g=v||(u.current?void 0:function(h){P(function(w){var D=[h].concat(sa(w));return D})});function S(){o.parentElement||document.body.appendChild(o),u.current=!0}function c(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return Z(function(){return r?v?v(S):S():c(),c},[r]),Z(function(){d.length&&(d.forEach(function(h){return h()}),P(Ca))},[d]),[o,g]}function pa(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var rn="rc-util-locker-".concat(Date.now()),Ma=0;function en(r){var a=!!r,e=V(function(){return Ma+=1,"".concat(rn,"_").concat(Ma)}),n=b(e,1),o=n[0];Z(function(){if(a){var u=Ia(document.body).width,v=pa();Ja(`
html body {
  overflow-y: hidden;
  `.concat(v?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else ma(o);return function(){ma(o)}},[a,o])}var wa=!1;function an(r){return typeof r=="boolean"&&(wa=r),wa}var ba=function(a){return a===!1?!1:!je()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},_a=Qe(function(r,a){var e=r.open,n=r.autoLock,o=r.getContainer;r.debug;var u=r.autoDestroy,v=u===void 0?!0:u,s=r.children,f=V(e),d=b(f,2),P=d[0],g=d[1],S=P||e;me(function(){(v||e)&&g(e)},[e,v]);var c=V(function(){return ba(o)}),h=b(c,2),w=h[0],D=h[1];me(function(){var U=ba(o);D(U??null)});var W=Oa(S&&!w),T=b(W,2),m=T[0],i=T[1],R=w??m;en(n&&e&&je()&&(R===m||R===document.body));var Q=null;if(s&&Ba(s)&&a){var I=s;Q=I.ref}var Y=Ra(Q,a);if(!S||!je()||w===void 0)return null;var ar=R===!1||an(),_=s;return a&&(_=ha(s,{ref:Y})),q(Fa.Provider,{value:i},ar?_:Va(_,R))});function nn(r){var a=r.prefixCls,e=r.align,n=r.arrow,o=r.arrowPos,u=n||{},v=u.className,s=u.content,f=o.x,d=f===void 0?0:f,P=o.y,g=P===void 0?0:P,S=ur();if(!e||!e.points)return null;var c={position:"absolute"};if(e.autoArrow!==!1){var h=e.points[0],w=e.points[1],D=h[0],W=h[1],T=w[0],m=w[1];D===T||!["t","b"].includes(D)?c.top=g:D==="t"?c.top=0:c.bottom=0,W===m||!["l","r"].includes(W)?c.left=d:W==="l"?c.left=0:c.right=0}return q("div",{ref:S,className:ne("".concat(a,"-arrow"),v),style:c},s)}function tn(r){var a=r.prefixCls,e=r.open,n=r.zIndex,o=r.mask,u=r.motion;return o?q(xa,Na({},u,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(v){var s=v.className;return q("div",{style:{zIndex:n},className:ne("".concat(a,"-mask"),s)})}):null}var on=qa(function(r){var a=r.children;return a},function(r,a){return a.cache}),un=Qe(function(r,a){var e=r.popup,n=r.className,o=r.prefixCls,u=r.style,v=r.target,s=r.onVisibleChanged,f=r.open,d=r.keepDom,P=r.fresh,g=r.onClick,S=r.mask,c=r.arrow,h=r.arrowPos,w=r.align,D=r.motion,W=r.maskMotion,T=r.forceRender,m=r.getPopupContainer,i=r.autoDestroy,R=r.portal,Q=r.zIndex,I=r.onMouseEnter,Y=r.onMouseLeave,ar=r.onPointerEnter,_=r.ready,U=r.offsetX,gr=r.offsetY,mr=r.offsetR,lr=r.offsetB,yr=r.onAlign,z=r.onPrepare,H=r.stretch,C=r.targetWidth,X=r.targetHeight,L=typeof e=="function"?e():e,vr=f||d,nr=(m==null?void 0:m.length)>0,te=V(!m||!nr),Er=b(te,2),Cr=Er[0],Ir=Er[1];if(Z(function(){!Cr&&nr&&v&&Ir(!0)},[Cr,nr,v]),!Cr)return null;var tr="auto",x={left:"-1000vw",top:"-1000vh",right:tr,bottom:tr};if(_||!f){var O,sr=w.points,cr=w.dynamicInset||((O=w._experimental)===null||O===void 0?void 0:O.dynamicInset),Jr=cr&&sr[0][1]==="r",oe=cr&&sr[0][0]==="b";Jr?(x.right=mr,x.left=tr):(x.left=U,x.right=tr),oe?(x.bottom=lr,x.top=tr):(x.top=gr,x.bottom=tr)}var A={};return H&&(H.includes("height")&&X?A.height=X:H.includes("minHeight")&&X&&(A.minHeight=X),H.includes("width")&&C?A.width=C:H.includes("minWidth")&&C&&(A.minWidth=C)),f||(A.pointerEvents="none"),q(R,{open:T||vr,getContainer:m&&function(){return m(v)},autoDestroy:i},q(tn,{prefixCls:o,open:f,zIndex:Q,mask:S,motion:W}),q(Ha,{onResize:yr,disabled:!f},function(Gr){return q(xa,Na({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},D,{onAppearPrepare:z,onEnterPrepare:z,visible:f,onVisibleChanged:function(J){var Mr;D==null||(Mr=D.onVisibleChanged)===null||Mr===void 0||Mr.call(D,J),s(J)}}),function(Dr,J){var Mr=Dr.className,M=Dr.style,Br=ne(o,Mr,n);return q("div",{ref:Ga(Gr,a,J),className:Br,style:j(j(j(j({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},x),A),M),{},{boxSizing:"border-box",zIndex:Q},u),onMouseEnter:I,onMouseLeave:Y,onPointerEnter:ar,onClick:g},c&&q(nn,{prefixCls:o,arrow:c,arrowPos:h,align:w}),q(on,{cache:!f&&!P},L))})}))}),ln=Qe(function(r,a){var e=r.children,n=r.getTriggerDOMNode,o=Ba(e),u=Ua(function(s){Ka(a,n?n(s):s)},[n]),v=Ra(u,e.ref);return o?ha(e,{ref:v}):e}),Pa=Wa(null);function Sa(r){return r?Array.isArray(r)?r:[r]:[]}function vn(r,a,e,n){return Ue(function(){var o=Sa(e??a),u=Sa(n??a),v=new Set(o),s=new Set(u);return r&&(v.has("hover")&&(v.delete("hover"),v.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[v,s]},[r,a,e,n])}function sn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===a[0]:r[0]===a[0]&&r[1]===a[1]}function cn(r,a,e,n){for(var o=e.points,u=Object.keys(r),v=0;v<u.length;v+=1){var s,f=u[v];if(sn((s=r[f])===null||s===void 0?void 0:s.points,o,n))return"".concat(a,"-placement-").concat(f)}return""}function Da(r,a,e,n){return a||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function Ce(r){return r.ownerDocument.defaultView}function da(r){for(var a=[],e=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];e;){var o=Ce(e).getComputedStyle(e),u=o.overflowX,v=o.overflowY,s=o.overflow;[u,v,s].some(function(f){return n.includes(f)})&&a.push(e),e=e.parentElement}return a}function ye(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?a:r}function ge(r){return ye(parseFloat(r),0)}function Ta(r,a){var e=j({},r);return(a||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var o=Ce(n).getComputedStyle(n),u=o.overflow,v=o.overflowClipMargin,s=o.borderTopWidth,f=o.borderBottomWidth,d=o.borderLeftWidth,P=o.borderRightWidth,g=n.getBoundingClientRect(),S=n.offsetHeight,c=n.clientHeight,h=n.offsetWidth,w=n.clientWidth,D=ge(s),W=ge(f),T=ge(d),m=ge(P),i=ye(Math.round(g.width/h*1e3)/1e3),R=ye(Math.round(g.height/S*1e3)/1e3),Q=(h-w-T-m)*i,I=(S-c-D-W)*R,Y=D*R,ar=W*R,_=T*i,U=m*i,gr=0,mr=0;if(u==="clip"){var lr=ge(v);gr=lr*i,mr=lr*R}var yr=g.x+_-gr,z=g.y+Y-mr,H=yr+g.width+2*gr-_-U-Q,C=z+g.height+2*mr-Y-ar-I;e.left=Math.max(e.left,yr),e.top=Math.max(e.top,z),e.right=Math.min(e.right,H),e.bottom=Math.min(e.bottom,C)}}),e}function La(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(a),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function ka(r,a){var e=a||[],n=b(e,2),o=n[0],u=n[1];return[La(r.width,o),La(r.height,u)]}function $a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ae(r,a){var e=a[0],n=a[1],o,u;return e==="t"?u=r.y:e==="b"?u=r.y+r.height:u=r.y+r.height/2,n==="l"?o=r.x:n==="r"?o=r.x+r.width:o=r.x+r.width/2,{x:o,y:u}}function zr(r,a){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,o){return o===a?e[n]||"c":n}).join("")}function fn(r,a,e,n,o,u,v){var s=V({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),f=b(s,2),d=f[0],P=f[1],g=ur(0),S=Ue(function(){return a?da(a):[]},[a]),c=ur({}),h=function(){c.current={}};r||h();var w=Qr(function(){if(a&&e&&r){let er=function(Sr,jr){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Br,ee=L.x+Sr,de=L.y+jr,he=ee+O,Ae=de+x,oa=Math.max(ee,re.left),ia=Math.max(de,re.top),ua=Math.min(he,re.right),la=Math.min(Ae,re.bottom);return Math.max(0,(ua-oa)*(la-ia))},_e=function(){kr=L.y+y,$r=kr+x,Nr=L.x+N,Yr=Nr+O};var T,m,i=a,R=i.ownerDocument,Q=Ce(i),I=Q.getComputedStyle(i),Y=I.width,ar=I.height,_=I.position,U=i.style.left,gr=i.style.top,mr=i.style.right,lr=i.style.bottom,yr=i.style.overflow,z=j(j({},o[n]),u),H=R.createElement("div");(T=i.parentElement)===null||T===void 0||T.appendChild(H),H.style.left="".concat(i.offsetLeft,"px"),H.style.top="".concat(i.offsetTop,"px"),H.style.position=_,H.style.height="".concat(i.offsetHeight,"px"),H.style.width="".concat(i.offsetWidth,"px"),i.style.left="0",i.style.top="0",i.style.right="auto",i.style.bottom="auto",i.style.overflow="hidden";var C;if(Array.isArray(e))C={x:e[0],y:e[1],width:0,height:0};else{var X=e.getBoundingClientRect();C={x:X.x,y:X.y,width:X.width,height:X.height}}var L=i.getBoundingClientRect(),vr=R.documentElement,nr=vr.clientWidth,te=vr.clientHeight,Er=vr.scrollWidth,Cr=vr.scrollHeight,Ir=vr.scrollTop,tr=vr.scrollLeft,x=L.height,O=L.width,sr=C.height,cr=C.width,Jr={left:0,top:0,right:nr,bottom:te},oe={left:-tr,top:-Ir,right:Er-tr,bottom:Cr-Ir},A=z.htmlRegion,Gr="visible",Dr="visibleFirst";A!=="scroll"&&A!==Dr&&(A=Gr);var J=A===Dr,Mr=Ta(oe,S),M=Ta(Jr,S),Br=A===Gr?M:Mr,p=J?M:Br;i.style.left="auto",i.style.top="auto",i.style.right="0",i.style.bottom="0";var Me=i.getBoundingClientRect();i.style.left=U,i.style.top=gr,i.style.right=mr,i.style.bottom=lr,i.style.overflow=yr,(m=i.parentElement)===null||m===void 0||m.removeChild(H);var Rr=ye(Math.round(O/parseFloat(Y)*1e3)/1e3),Hr=ye(Math.round(x/parseFloat(ar)*1e3)/1e3);if(Rr===0||Hr===0||ca(e)&&!Za(e))return;var we=z.offset,or=z.targetOffset,Ee=ka(L,we),be=b(Ee,2),ir=be[0],rr=be[1],fr=ka(C,or),Pe=b(fr,2),Se=Pe[0],Ie=Pe[1];C.x-=Se,C.y-=Ie;var Kr=z.points||[],G=b(Kr,2),Tr=G[0],Je=G[1],wr=$a(Je),K=$a(Tr),De=ae(C,wr),ie=ae(L,K),Lr=j({},z),N=De.x-ie.x+ir,y=De.y-ie.y+rr,dr=er(N,y),hr=er(N,y,M),xr=ae(C,["t","l"]),ue=ae(L,["t","l"]),le=ae(C,["b","r"]),ve=ae(L,["b","r"]),E=z.overflow||{},Ge=E.adjustX,Te=E.adjustY,Zr=E.shiftX,se=E.shiftY,Le=function(jr){return typeof jr=="boolean"?jr:jr>=0},kr,$r,Nr,Yr;_e();var ce=Le(Te),fe=K[0]===wr[0];if(ce&&K[0]==="t"&&($r>p.bottom||c.current.bt)){var Fr=y;fe?Fr-=x-sr:Fr=xr.y-ve.y-rr;var _r=er(N,Fr),Ke=er(N,Fr,M);_r>dr||_r===dr&&(!J||Ke>=hr)?(c.current.bt=!0,y=Fr,rr=-rr,Lr.points=[zr(K,0),zr(wr,0)]):c.current.bt=!1}if(ce&&K[0]==="b"&&(kr<p.top||c.current.tb)){var F=y;fe?F+=x-sr:F=le.y-ue.y-rr;var ke=er(N,F),Ze=er(N,F,M);ke>dr||ke===dr&&(!J||Ze>=hr)?(c.current.tb=!0,y=F,rr=-rr,Lr.points=[zr(K,0),zr(wr,0)]):c.current.tb=!1}var $e=Le(Ge),Ne=K[1]===wr[1];if($e&&K[1]==="l"&&(Yr>p.right||c.current.rl)){var Ar=N;Ne?Ar-=O-cr:Ar=xr.x-ve.x-ir;var We=er(Ar,y),Ye=er(Ar,y,M);We>dr||We===dr&&(!J||Ye>=hr)?(c.current.rl=!0,N=Ar,ir=-ir,Lr.points=[zr(K,1),zr(wr,1)]):c.current.rl=!1}if($e&&K[1]==="r"&&(Nr<p.left||c.current.lr)){var Vr=N;Ne?Vr+=O-cr:Vr=le.x-ue.x-ir;var ze=er(Vr,y),Xr=er(Vr,y,M);ze>dr||ze===dr&&(!J||Xr>=hr)?(c.current.lr=!0,N=Vr,ir=-ir,Lr.points=[zr(K,1),zr(wr,1)]):c.current.lr=!1}_e();var br=Zr===!0?0:Zr;typeof br=="number"&&(Nr<M.left&&(N-=Nr-M.left-ir,C.x+cr<M.left+br&&(N+=C.x-M.left+cr-br)),Yr>M.right&&(N-=Yr-M.right-ir,C.x>M.right-br&&(N+=C.x-M.right+br)));var qr=se===!0?0:se;typeof qr=="number"&&(kr<M.top&&(y-=kr-M.top-rr,C.y+sr<M.top+qr&&(y+=C.y-M.top+sr-qr)),$r>M.bottom&&(y-=$r-M.bottom-rr,C.y>M.bottom-qr&&(y+=C.y-M.bottom+qr)));var Or=L.x+N,pr=Or+O,Pr=L.y+y,Be=Pr+x,Ur=C.x,Wr=Ur+cr,Re=C.y,Xe=Re+sr,Oe=Math.max(Or,Ur),He=Math.min(pr,Wr),pe=(Oe+He)/2,ra=pe-Or,ea=Math.max(Pr,Re),xe=Math.min(Be,Xe),aa=(ea+xe)/2,na=aa-Pr;v==null||v(a,Lr);var Fe=Me.right-L.x-(N+L.width),ta=Me.bottom-L.y-(y+L.height);P({ready:!0,offsetX:N/Rr,offsetY:y/Hr,offsetR:Fe/Rr,offsetB:ta/Hr,arrowX:ra/Rr,arrowY:na/Hr,scaleX:Rr,scaleY:Hr,align:Lr})}}),D=function(){g.current+=1;var m=g.current;Promise.resolve().then(function(){g.current===m&&w()})},W=function(){P(function(m){return j(j({},m),{},{ready:!1})})};return Z(W,[n]),Z(function(){r||W()},[r]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,D]}function dn(r,a,e,n,o){Z(function(){if(r&&a&&e){let g=function(){n(),o()};var u=a,v=e,s=da(u),f=da(v),d=Ce(v),P=new Set([d].concat(sa(s),sa(f)));return P.forEach(function(S){S.addEventListener("scroll",g,{passive:!0})}),d.addEventListener("resize",g,{passive:!0}),n(),function(){P.forEach(function(S){S.removeEventListener("scroll",g),d.removeEventListener("resize",g)})}}},[r,a,e])}function hn(r,a,e,n,o,u,v,s){var f=ur(r),d=ur(!1);f.current!==r&&(d.current=!0,f.current=r),me(function(){var P=ya(function(){d.current=!1});return function(){ya.cancel(P)}},[r]),me(function(){if(a&&n&&(!o||u)){var P=function(){var Q=!1,I=function(_){var U=_.target;Q=v(U)},Y=function(_){var U=_.target;!d.current&&f.current&&!Q&&!v(U)&&s(!1)};return[I,Y]},g=P(),S=b(g,2),c=S[0],h=S[1],w=P(),D=b(w,2),W=D[0],T=D[1],m=Ce(n);m.addEventListener("mousedown",c,!0),m.addEventListener("click",h,!0),m.addEventListener("contextmenu",h,!0);var i=fa(e);return i&&(i.addEventListener("mousedown",W,!0),i.addEventListener("click",T,!0),i.addEventListener("contextmenu",T,!0)),function(){m.removeEventListener("mousedown",c,!0),m.removeEventListener("click",h,!0),m.removeEventListener("contextmenu",h,!0),i&&(i.removeEventListener("mousedown",W,!0),i.removeEventListener("click",T,!0),i.removeEventListener("contextmenu",T,!0))}}},[a,e,n,o,u])}var gn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function mn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_a,a=Qe(function(e,n){var o=e.prefixCls,u=o===void 0?"rc-trigger-popup":o,v=e.children,s=e.action,f=s===void 0?"hover":s,d=e.showAction,P=e.hideAction,g=e.popupVisible,S=e.defaultPopupVisible,c=e.onPopupVisibleChange,h=e.afterPopupVisibleChange,w=e.mouseEnterDelay,D=e.mouseLeaveDelay,W=D===void 0?.1:D,T=e.focusDelay,m=e.blurDelay,i=e.mask,R=e.maskClosable,Q=R===void 0?!0:R,I=e.getPopupContainer,Y=e.forceRender,ar=e.autoDestroy,_=e.destroyPopupOnHide,U=e.popup,gr=e.popupClassName,mr=e.popupStyle,lr=e.popupPlacement,yr=e.builtinPlacements,z=yr===void 0?{}:yr,H=e.popupAlign,C=e.zIndex,X=e.stretch,L=e.getPopupClassNameFromAlign,vr=e.fresh,nr=e.alignPoint,te=e.onPopupClick,Er=e.onPopupAlign,Cr=e.arrow,Ir=e.popupMotion,tr=e.maskMotion,x=e.popupTransitionName,O=e.popupAnimation,sr=e.maskTransitionName,cr=e.maskAnimation,Jr=e.className,oe=e.getTriggerDOMNode,A=Aa(e,gn),Gr=ar||_||!1,Dr=V(!1),J=b(Dr,2),Mr=J[0],M=J[1];Z(function(){M(Ya())},[]);var Br=ur({}),p=za(Pa),Me=Ue(function(){return{registerSubPopup:function(l,k){Br.current[l]=k,p==null||p.registerSubPopup(l,k)}}},[p]),Rr=Xa(),Hr=V(null),we=b(Hr,2),or=we[0],Ee=we[1],be=Qr(function(t){ca(t)&&or!==t&&Ee(t),p==null||p.registerSubPopup(Rr,t)}),ir=V(null),rr=b(ir,2),fr=rr[0],Pe=rr[1],Se=ur(null),Ie=Qr(function(t){ca(t)&&fr!==t&&(Pe(t),Se.current=t)}),Kr=ja.only(v),G=(Kr==null?void 0:Kr.props)||{},Tr={},Je=Qr(function(t){var l,k,B=fr;return(B==null?void 0:B.contains(t))||((l=fa(B))===null||l===void 0?void 0:l.host)===t||t===B||(or==null?void 0:or.contains(t))||((k=fa(or))===null||k===void 0?void 0:k.host)===t||t===or||Object.values(Br.current).some(function($){return($==null?void 0:$.contains(t))||t===$})}),wr=Da(u,Ir,O,x),K=Da(u,tr,cr,sr),De=V(S||!1),ie=b(De,2),Lr=ie[0],N=ie[1],y=g??Lr,dr=Qr(function(t){g===void 0&&N(t)});Z(function(){N(g||!1)},[g]);var hr=ur(y);hr.current=y;var xr=ur([]);xr.current=[];var ue=Qr(function(t){var l;dr(t),((l=xr.current[xr.current.length-1])!==null&&l!==void 0?l:y)!==t&&(xr.current.push(t),c==null||c(t))}),le=ur(),ve=function(){clearTimeout(le.current)},E=function(l){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ve(),k===0?ue(l):le.current=setTimeout(function(){ue(l)},k*1e3)};me(function(){return ve},[]);var Ge=V(!1),Te=b(Ge,2),Zr=Te[0],se=Te[1];Z(function(t){(!t||y)&&se(!0)},[y]);var Le=V(null),kr=b(Le,2),$r=kr[0],Nr=kr[1],Yr=V([0,0]),ce=b(Yr,2),fe=ce[0],Fr=ce[1],_r=function(l){Fr([l.clientX,l.clientY])},Ke=fn(y,or,nr?fe:fr,lr,z,H,Er),F=b(Ke,11),ke=F[0],Ze=F[1],$e=F[2],Ne=F[3],Ar=F[4],We=F[5],Ye=F[6],Vr=F[7],ze=F[8],Xr=F[9],br=F[10],qr=vn(Mr,f,d,P),Or=b(qr,2),pr=Or[0],Pr=Or[1],Be=pr.has("click"),Ur=Pr.has("click")||Pr.has("contextMenu"),Wr=Qr(function(){Zr||br()}),Re=function(){hr.current&&nr&&Ur&&E(!1)};dn(y,fr,or,Wr,Re),Z(function(){Wr()},[fe,lr]),Z(function(){y&&!(z!=null&&z[lr])&&Wr()},[JSON.stringify(H)]);var Xe=Ue(function(){var t=cn(z,u,Xr,nr);return ne(t,L==null?void 0:L(Xr))},[Xr,L,z,u,nr]);Qa(n,function(){return{nativeElement:Se.current,forceAlign:Wr}});var Oe=V(0),He=b(Oe,2),pe=He[0],ra=He[1],ea=V(0),xe=b(ea,2),aa=xe[0],na=xe[1],Fe=function(){if(X&&fr){var l=fr.getBoundingClientRect();ra(l.width),na(l.height)}},ta=function(){Fe(),Wr()},er=function(l){se(!1),br(),h==null||h(l)},_e=function(){return new Promise(function(l){Fe(),Nr(function(){return l})})};Z(function(){$r&&(br(),$r(),Nr(null))},[$r]);function Sr(t,l,k,B){Tr[t]=function($){var Ve;B==null||B($),E(l,k);for(var va=arguments.length,ga=new Array(va>1?va-1:0),qe=1;qe<va;qe++)ga[qe-1]=arguments[qe];(Ve=G[t])===null||Ve===void 0||Ve.call.apply(Ve,[G,$].concat(ga))}}(Be||Ur)&&(Tr.onClick=function(t){var l;hr.current&&Ur?E(!1):!hr.current&&Be&&(_r(t),E(!0));for(var k=arguments.length,B=new Array(k>1?k-1:0),$=1;$<k;$++)B[$-1]=arguments[$];(l=G.onClick)===null||l===void 0||l.call.apply(l,[G,t].concat(B))}),hn(y,Ur,fr,or,i,Q,Je,E);var jr=pr.has("hover"),re=Pr.has("hover"),ee,de;jr&&(Sr("onMouseEnter",!0,w,function(t){_r(t)}),Sr("onPointerEnter",!0,w,function(t){_r(t)}),ee=function(){(y||Zr)&&E(!0,w)},nr&&(Tr.onMouseMove=function(t){var l;(l=G.onMouseMove)===null||l===void 0||l.call(G,t)})),re&&(Sr("onMouseLeave",!1,W),Sr("onPointerLeave",!1,W),de=function(){E(!1,W)}),pr.has("focus")&&Sr("onFocus",!0,T),Pr.has("focus")&&Sr("onBlur",!1,m),pr.has("contextMenu")&&(Tr.onContextMenu=function(t){var l;hr.current&&Pr.has("contextMenu")?E(!1):(_r(t),E(!0)),t.preventDefault();for(var k=arguments.length,B=new Array(k>1?k-1:0),$=1;$<k;$++)B[$-1]=arguments[$];(l=G.onContextMenu)===null||l===void 0||l.call.apply(l,[G,t].concat(B))}),Jr&&(Tr.className=ne(G.className,Jr));var he=j(j({},G),Tr),Ae={},oa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];oa.forEach(function(t){A[t]&&(Ae[t]=function(){for(var l,k=arguments.length,B=new Array(k),$=0;$<k;$++)B[$]=arguments[$];(l=he[t])===null||l===void 0||l.call.apply(l,[he].concat(B)),A[t].apply(A,B)})});var ia=ha(Kr,j(j({},he),Ae)),ua={x:We,y:Ye},la=Cr?j({},Cr!==!0?Cr:{}):null;return q(Ea,null,q(Ha,{disabled:!y,ref:Ie,onResize:ta},q(ln,{getTriggerDOMNode:oe},ia)),q(Pa.Provider,{value:Me},q(un,{portal:r,ref:be,prefixCls:u,popup:U,className:ne(gr,Xe),style:mr,target:fr,onMouseEnter:ee,onMouseLeave:de,onPointerEnter:ee,zIndex:C,open:y,keepDom:Zr,fresh:vr,onClick:te,mask:i,motion:wr,maskMotion:K,onVisibleChanged:er,onPrepare:_e,forceRender:Y,autoDestroy:Gr,getPopupContainer:I,align:Xr,arrow:la,arrowPos:ua,ready:ke,offsetX:Ze,offsetY:$e,offsetR:Ne,offsetB:Ar,onAlign:Wr,stretch:X,targetWidth:pe/Vr,targetHeight:aa/ze})))});return a}const Dn=mn(_a);export{_a as P,Dn as T};
