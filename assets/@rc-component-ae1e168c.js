import{c as w,f as va,g as $a,e as U,h as Aa}from"./@babel-179c1243.js";import{G as Na,h as _,_ as sr,q as Wa,N as Ee,p as ge,y as A,j as Va,s as da,a as qa,T as Ua,F as Ue,A as ja,b as Ea,k as Qa}from"./preact-23a6e7b2.js";import{c as je,a as Y,d as Ga,u as Ia,r as ga,s as za,e as Ba,f as Ja,h as Ka,i as Er,j as sa,k as Za,l as ma,g as ca,m as Ya,n as Xa}from"./rc-util-f8219cd0.js";import{c as ne}from"./classnames-b6baddbd.js";import{R as Ra}from"./rc-resize-observer-34f97b1d.js";import{C as Ha}from"./rc-motion-746079e2.js";import"./react-is-e5978b8b.js";var xa=Na(null),ya=[];function Oa(r,a){var e=_(function(){if(!je())return null;var h=document.createElement("div");return h}),n=w(e,1),o=n[0],u=sr(!1),v=Wa(xa),s=_(ya),f=w(s,2),d=f[0],b=f[1],g=v||(u.current?void 0:function(h){b(function(M){var S=[h].concat(va(M));return S})});function P(){o.parentElement||document.body.appendChild(o),u.current=!0}function c(){var h;(h=o.parentElement)===null||h===void 0||h.removeChild(o),u.current=!1}return Y(function(){return r?v?v(P):P():c(),c},[r]),Y(function(){d.length&&(d.forEach(function(h){return h()}),b(ya))},[d]),[o,g]}function pa(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var rn="rc-util-locker-".concat(Date.now()),Ca=0;function en(r){var a=!!r,e=_(function(){return Ca+=1,"".concat(rn,"_").concat(Ca)}),n=w(e,1),o=n[0];Y(function(){if(a){var u=Ga(document.body).width,v=pa();Ia(`
html body {
  overflow-y: hidden;
  `.concat(v?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else ga(o);return function(){ga(o)}},[a,o])}var Ma=!1;function an(r){return typeof r=="boolean"&&(Ma=r),Ma}var wa=function(a){return a===!1?!1:!je()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Fa=Ee(function(r,a){var e=r.open,n=r.autoLock,o=r.getContainer;r.debug;var u=r.autoDestroy,v=u===void 0?!0:u,s=r.children,f=_(e),d=w(f,2),b=d[0],g=d[1],P=b||e;ge(function(){(v||e)&&g(e)},[e,v]);var c=_(function(){return wa(o)}),h=w(c,2),M=h[0],S=h[1];ge(function(){var V=wa(o);S(V??null)});var W=Oa(P&&!M),D=w(W,2),m=D[0],i=D[1],H=M??m;en(n&&e&&je()&&(H===m||H===document.body));var j=null;if(s&&za(s)&&a){var G=s;j=G.ref}var X=Ba(j,a);if(!P||!je()||M===void 0)return null;var er=H===!1||an(),F=s;return a&&(F=da(s,{ref:X})),A(xa.Provider,{value:i},er?F:Va(F,H))});function nn(r){var a=r.prefixCls,e=r.align,n=r.arrow,o=r.arrowPos,u=n||{},v=u.className,s=u.content,f=o.x,d=f===void 0?0:f,b=o.y,g=b===void 0?0:b,P=sr();if(!e||!e.points)return null;var c={position:"absolute"};if(e.autoArrow!==!1){var h=e.points[0],M=e.points[1],S=h[0],W=h[1],D=M[0],m=M[1];S===D||!["t","b"].includes(S)?c.top=g:S==="t"?c.top=0:c.bottom=0,W===m||!["l","r"].includes(W)?c.left=d:W==="l"?c.left=0:c.right=0}return A("div",{ref:P,className:ne("".concat(a,"-arrow"),v),style:c},s)}function tn(r){var a=r.prefixCls,e=r.open,n=r.zIndex,o=r.mask,u=r.motion;return o?A(Ha,$a({},u,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(v){var s=v.className;return A("div",{style:{zIndex:n},className:ne("".concat(a,"-mask"),s)})}):null}var on=qa(function(r){var a=r.children;return a},function(r,a){return a.cache}),un=Ee(function(r,a){var e=r.popup,n=r.className,o=r.prefixCls,u=r.style,v=r.target,s=r.onVisibleChanged,f=r.open,d=r.keepDom,b=r.fresh,g=r.onClick,P=r.mask,c=r.arrow,h=r.arrowPos,M=r.align,S=r.motion,W=r.maskMotion,D=r.forceRender,m=r.getPopupContainer,i=r.autoDestroy,H=r.portal,j=r.zIndex,G=r.onMouseEnter,X=r.onMouseLeave,er=r.onPointerEnter,F=r.ready,V=r.offsetX,mr=r.offsetY,yr=r.offsetR,cr=r.offsetB,E=r.onAlign,z=r.onPrepare,y=r.stretch,I=r.targetWidth,T=r.targetHeight,J=typeof e=="function"?e():e,te=f||d,ar=(m==null?void 0:m.length)>0,oe=_(!m||!ar),Qr=w(oe,2),fr=Qr[0],Gr=Qr[1];if(Y(function(){!fr&&ar&&v&&Gr(!0)},[fr,ar,v]),!fr)return null;var q="auto",x={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(F||!f){var nr,dr=M.points,Ir=M.dynamicInset||((nr=M._experimental)===null||nr===void 0?void 0:nr.dynamicInset),Jr=Ir&&dr[0][1]==="r",Cr=Ir&&dr[0][0]==="b";Jr?(x.right=yr,x.left=q):(x.left=V,x.right=q),Cr?(x.bottom=cr,x.top=q):(x.top=mr,x.bottom=q)}var K={};return y&&(y.includes("height")&&T?K.height=T:y.includes("minHeight")&&T&&(K.minHeight=T),y.includes("width")&&I?K.width=I:y.includes("minWidth")&&I&&(K.minWidth=I)),f||(K.pointerEvents="none"),A(H,{open:D||te,getContainer:m&&function(){return m(v)},autoDestroy:i},A(tn,{prefixCls:o,open:f,zIndex:j,mask:P,motion:W}),A(Ra,{onResize:E,disabled:!f},function(Kr){return A(Ha,$a({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(o,"-hidden")},S,{onAppearPrepare:z,onEnterPrepare:z,visible:f,onVisibleChanged:function(Mr){var C;S==null||(C=S.onVisibleChanged)===null||C===void 0||C.call(S,Mr),s(Mr)}}),function(tr,Mr){var C=tr.className,Zr=tr.style,wr=ne(o,C,n);return A("div",{ref:Ja(Kr,a,Mr),className:wr,style:U(U(U(U({"--arrow-x":"".concat(h.x||0,"px"),"--arrow-y":"".concat(h.y||0,"px")},x),K),Zr),{},{boxSizing:"border-box",zIndex:j},u),onMouseEnter:G,onMouseLeave:X,onPointerEnter:er,onClick:g},c&&A(nn,{prefixCls:o,arrow:c,arrowPos:h,align:M}),A(on,{cache:!f&&!b},J))})}))}),ln=Ee(function(r,a){var e=r.children,n=r.getTriggerDOMNode,o=za(e),u=Ua(function(s){Ka(a,n?n(s):s)},[n]),v=Ba(u,e.ref);return o?da(e,{ref:v}):e}),ba=Na(null);function Pa(r){return r?Array.isArray(r)?r:[r]:[]}function vn(r,a,e,n){return Ue(function(){var o=Pa(e??a),u=Pa(n??a),v=new Set(o),s=new Set(u);return r&&(v.has("hover")&&(v.delete("hover"),v.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[v,s]},[r,a,e,n])}function sn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===a[0]:r[0]===a[0]&&r[1]===a[1]}function cn(r,a,e,n){for(var o=e.points,u=Object.keys(r),v=0;v<u.length;v+=1){var s,f=u[v];if(sn((s=r[f])===null||s===void 0?void 0:s.points,o,n))return"".concat(a,"-placement-").concat(f)}return""}function Sa(r,a,e,n){return a||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function ye(r){return r.ownerDocument.defaultView}function fa(r){for(var a=[],e=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];e;){var o=ye(e).getComputedStyle(e),u=o.overflowX,v=o.overflowY,s=o.overflow;[u,v,s].some(function(f){return n.includes(f)})&&a.push(e),e=e.parentElement}return a}function me(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?a:r}function he(r){return me(parseFloat(r),0)}function Da(r,a){var e=U({},r);return(a||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var o=ye(n).getComputedStyle(n),u=o.overflow,v=o.overflowClipMargin,s=o.borderTopWidth,f=o.borderBottomWidth,d=o.borderLeftWidth,b=o.borderRightWidth,g=n.getBoundingClientRect(),P=n.offsetHeight,c=n.clientHeight,h=n.offsetWidth,M=n.clientWidth,S=he(s),W=he(f),D=he(d),m=he(b),i=me(Math.round(g.width/h*1e3)/1e3),H=me(Math.round(g.height/P*1e3)/1e3),j=(h-M-D-m)*i,G=(P-c-S-W)*H,X=S*H,er=W*H,F=D*i,V=m*i,mr=0,yr=0;if(u==="clip"){var cr=he(v);mr=cr*i,yr=cr*H}var E=g.x+F-mr,z=g.y+X-yr,y=E+g.width+2*mr-F-V-j,I=z+g.height+2*yr-X-er-G;e.left=Math.max(e.left,E),e.top=Math.max(e.top,z),e.right=Math.min(e.right,y),e.bottom=Math.min(e.bottom,I)}}),e}function Ta(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(a),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function ka(r,a){var e=a||[],n=w(e,2),o=n[0],u=n[1];return[Ta(r.width,o),Ta(r.height,u)]}function La(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ae(r,a){var e=a[0],n=a[1],o,u;return e==="t"?u=r.y:e==="b"?u=r.y+r.height:u=r.y+r.height/2,n==="l"?o=r.x:n==="r"?o=r.x+r.width:o=r.x+r.width/2,{x:o,y:u}}function Wr(r,a){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,o){return o===a?e[n]||"c":n}).join("")}function fn(r,a,e,n,o,u,v){var s=_({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),f=w(s,2),d=f[0],b=f[1],g=sr(0),P=Ue(function(){return a?fa(a):[]},[a]),c=sr({}),h=function(){c.current={}};r||h();var M=Er(function(){if(a&&e&&r){let p=function(xe,rr){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zr,Fe=T.x+xe,ee=T.y+rr,_e=Fe+x,de=ee+q,Ae=Math.max(Fe,re.left),oa=Math.max(ee,re.top),ia=Math.min(_e,re.right),ua=Math.min(de,re.bottom);return Math.max(0,(ia-Ae)*(ua-oa))},He=function(){Fr=T.y+$,_r=Fr+q,Sr=T.x+B,Ar=Sr+x};var D,m,i=a,H=i.ownerDocument,j=ye(i),G=j.getComputedStyle(i),X=G.width,er=G.height,F=G.position,V=i.style.left,mr=i.style.top,yr=i.style.right,cr=i.style.bottom,E=U(U({},o[n]),u),z=H.createElement("div");(D=i.parentElement)===null||D===void 0||D.appendChild(z),z.style.left="".concat(i.offsetLeft,"px"),z.style.top="".concat(i.offsetTop,"px"),z.style.position=F,z.style.height="".concat(i.offsetHeight,"px"),z.style.width="".concat(i.offsetWidth,"px"),i.style.left="0",i.style.top="0",i.style.right="auto",i.style.bottom="auto";var y;if(Array.isArray(e))y={x:e[0],y:e[1],width:0,height:0};else{var I=e.getBoundingClientRect();y={x:I.x,y:I.y,width:I.width,height:I.height}}var T=i.getBoundingClientRect(),J=H.documentElement,te=J.clientWidth,ar=J.clientHeight,oe=J.scrollWidth,Qr=J.scrollHeight,fr=J.scrollTop,Gr=J.scrollLeft,q=T.height,x=T.width,nr=y.height,dr=y.width,Ir={left:0,top:0,right:te,bottom:ar},Jr={left:-Gr,top:-fr,right:oe-Gr,bottom:Qr-fr},Cr=E.htmlRegion,K="visible",Kr="visibleFirst";Cr!=="scroll"&&Cr!==Kr&&(Cr=K);var tr=Cr===Kr,Mr=Da(Jr,P),C=Da(Ir,P),Zr=Cr===K?C:Mr,wr=tr?C:Zr;i.style.left="auto",i.style.top="auto",i.style.right="0",i.style.bottom="0";var hr=i.getBoundingClientRect();i.style.left=V,i.style.top=mr,i.style.right=yr,i.style.bottom=cr,(m=i.parentElement)===null||m===void 0||m.removeChild(z);var zr=me(Math.round(x/parseFloat(X)*1e3)/1e3),Br=me(Math.round(q/parseFloat(er)*1e3)/1e3);if(zr===0||Br===0||sa(e)&&!Za(e))return;var Qe=E.offset,Ce=E.targetOffset,or=ka(T,Qe),Me=w(or,2),ir=Me[0],ur=Me[1],we=ka(y,Ce),lr=w(we,2),Ge=lr[0],be=lr[1];y.x-=Ge,y.y-=be;var Ie=E.points||[],Rr=w(Ie,2),O=Rr[0],kr=Rr[1],br=La(kr),Z=La(O),Pe=ae(y,br),Se=ae(T,Z),Pr=U({},E),B=Pe.x-Se.x+ir,$=Pe.y-Se.y+ur,N=p(B,$),Yr=p(B,$,C),Lr=ae(y,["t","l"]),Hr=ae(T,["t","l"]),ie=ae(y,["b","r"]),ue=ae(T,["b","r"]),xr=E.overflow||{},vr=xr.adjustX,Je=xr.adjustY,le=xr.shiftX,Xr=xr.shiftY,ve=function(rr){return typeof rr=="boolean"?rr:rr>=0},Fr,_r,Sr,Ar;He();var De=ve(Je),se=Z[0]===br[0];if(De&&Z[0]==="t"&&(_r>wr.bottom||c.current.bt)){var $r=$;se?$r-=q-nr:$r=Lr.y-ue.y-ur;var Te=p(B,$r),Or=p(B,$r,C);Te>N||Te===N&&(!tr||Or>=Yr)?(c.current.bt=!0,$=$r,ur=-ur,Pr.points=[Wr(Z,0),Wr(br,0)]):c.current.bt=!1}if(De&&Z[0]==="b"&&(Fr<wr.top||c.current.tb)){var Vr=$;se?Vr+=q-nr:Vr=ie.y-Hr.y-ur;var Q=p(B,Vr),Ke=p(B,Vr,C);Q>N||Q===N&&(!tr||Ke>=Yr)?(c.current.tb=!0,$=Vr,ur=-ur,Pr.points=[Wr(Z,0),Wr(br,0)]):c.current.tb=!1}var ke=ve(vr),Le=Z[1]===br[1];if(ke&&Z[1]==="l"&&(Ar>wr.right||c.current.rl)){var qr=B;Le?qr-=x-dr:qr=Lr.x-ue.x-ir;var $e=p(qr,$),Ze=p(qr,$,C);$e>N||$e===N&&(!tr||Ze>=Yr)?(c.current.rl=!0,B=qr,ir=-ir,Pr.points=[Wr(Z,1),Wr(br,1)]):c.current.rl=!1}if(ke&&Z[1]==="r"&&(Sr<wr.left||c.current.lr)){var Ur=B;Le?Ur+=x-dr:Ur=ie.x-Hr.x-ir;var Ne=p(Ur,$),Ye=p(Ur,$,C);Ne>N||Ne===N&&(!tr||Ye>=Yr)?(c.current.lr=!0,B=Ur,ir=-ir,Pr.points=[Wr(Z,1),Wr(br,1)]):c.current.lr=!1}He();var gr=le===!0?0:le;typeof gr=="number"&&(Sr<C.left&&(B-=Sr-C.left-ir,y.x+dr<C.left+gr&&(B+=y.x-C.left+dr-gr)),Ar>C.right&&(B-=Ar-C.right-ir,y.x>C.right-gr&&(B+=y.x-C.right+gr)));var Dr=Xr===!0?0:Xr;typeof Dr=="number"&&(Fr<C.top&&($-=Fr-C.top-ur,y.y+nr<C.top+Dr&&($+=y.y-C.top+nr-Dr)),_r>C.bottom&&($-=_r-C.bottom-ur,y.y>C.bottom-Dr&&($+=y.y-C.bottom+Dr)));var ce=T.x+B,We=ce+x,Nr=T.y+$,jr=Nr+q,fe=y.x,pr=fe+dr,Tr=y.y,Xe=Tr+nr,Oe=Math.max(ce,fe),pe=Math.min(We,pr),ze=(Oe+pe)/2,ra=ze-ce,ea=Math.max(Nr,Tr),aa=Math.min(jr,Xe),Be=(ea+aa)/2,na=Be-Nr;v==null||v(a,Pr);var ta=hr.right-T.x-(B+T.width),Re=hr.bottom-T.y-($+T.height);b({ready:!0,offsetX:B/zr,offsetY:$/Br,offsetR:ta/zr,offsetB:Re/Br,arrowX:ra/zr,arrowY:na/Br,scaleX:zr,scaleY:Br,align:Pr})}}),S=function(){g.current+=1;var m=g.current;Promise.resolve().then(function(){g.current===m&&M()})},W=function(){b(function(m){return U(U({},m),{},{ready:!1})})};return Y(W,[n]),Y(function(){r||W()},[r]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,S]}function dn(r,a,e,n,o){Y(function(){if(r&&a&&e){let g=function(){n(),o()};var u=a,v=e,s=fa(u),f=fa(v),d=ye(v),b=new Set([d].concat(va(s),va(f)));return b.forEach(function(P){P.addEventListener("scroll",g,{passive:!0})}),d.addEventListener("resize",g,{passive:!0}),n(),function(){b.forEach(function(P){P.removeEventListener("scroll",g),d.removeEventListener("resize",g)})}}},[r,a,e])}function hn(r,a,e,n,o,u,v,s){var f=sr(r),d=sr(!1);f.current!==r&&(d.current=!0,f.current=r),ge(function(){var b=ma(function(){d.current=!1});return function(){ma.cancel(b)}},[r]),ge(function(){if(a&&n&&(!o||u)){var b=function(){var j=!1,G=function(F){var V=F.target;j=v(V)},X=function(F){var V=F.target;!d.current&&f.current&&!j&&!v(V)&&s(!1)};return[G,X]},g=b(),P=w(g,2),c=P[0],h=P[1],M=b(),S=w(M,2),W=S[0],D=S[1],m=ye(n);m.addEventListener("mousedown",c,!0),m.addEventListener("click",h,!0),m.addEventListener("contextmenu",h,!0);var i=ca(e);return i&&(i.addEventListener("mousedown",W,!0),i.addEventListener("click",D,!0),i.addEventListener("contextmenu",D,!0)),function(){m.removeEventListener("mousedown",c,!0),m.removeEventListener("click",h,!0),m.removeEventListener("contextmenu",h,!0),i&&(i.removeEventListener("mousedown",W,!0),i.removeEventListener("click",D,!0),i.removeEventListener("contextmenu",D,!0))}}},[a,e,n,o,u])}var gn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function mn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fa,a=Ee(function(e,n){var o=e.prefixCls,u=o===void 0?"rc-trigger-popup":o,v=e.children,s=e.action,f=s===void 0?"hover":s,d=e.showAction,b=e.hideAction,g=e.popupVisible,P=e.defaultPopupVisible,c=e.onPopupVisibleChange,h=e.afterPopupVisibleChange,M=e.mouseEnterDelay,S=e.mouseLeaveDelay,W=S===void 0?.1:S,D=e.focusDelay,m=e.blurDelay,i=e.mask,H=e.maskClosable,j=H===void 0?!0:H,G=e.getPopupContainer,X=e.forceRender,er=e.autoDestroy,F=e.destroyPopupOnHide,V=e.popup,mr=e.popupClassName,yr=e.popupStyle,cr=e.popupPlacement,E=e.builtinPlacements,z=E===void 0?{}:E,y=e.popupAlign,I=e.zIndex,T=e.stretch,J=e.getPopupClassNameFromAlign,te=e.fresh,ar=e.alignPoint,oe=e.onPopupClick,Qr=e.onPopupAlign,fr=e.arrow,Gr=e.popupMotion,q=e.maskMotion,x=e.popupTransitionName,nr=e.popupAnimation,dr=e.maskTransitionName,Ir=e.maskAnimation,Jr=e.className,Cr=e.getTriggerDOMNode,K=Aa(e,gn),Kr=er||F||!1,tr=_(!1),Mr=w(tr,2),C=Mr[0],Zr=Mr[1];Y(function(){Zr(Ya())},[]);var wr=sr({}),hr=Wa(ba),zr=Ue(function(){return{registerSubPopup:function(l,k){wr.current[l]=k,hr==null||hr.registerSubPopup(l,k)}}},[hr]),Br=Xa(),Qe=_(null),Ce=w(Qe,2),or=Ce[0],Me=Ce[1],ir=Er(function(t){sa(t)&&or!==t&&Me(t),hr==null||hr.registerSubPopup(Br,t)}),ur=_(null),we=w(ur,2),lr=we[0],Ge=we[1],be=sr(null),Ie=Er(function(t){sa(t)&&lr!==t&&(Ge(t),be.current=t)}),Rr=ja.only(v),O=(Rr==null?void 0:Rr.props)||{},kr={},br=Er(function(t){var l,k,R=lr;return(R==null?void 0:R.contains(t))||((l=ca(R))===null||l===void 0?void 0:l.host)===t||t===R||(or==null?void 0:or.contains(t))||((k=ca(or))===null||k===void 0?void 0:k.host)===t||t===or||Object.values(wr.current).some(function(L){return(L==null?void 0:L.contains(t))||t===L})}),Z=Sa(u,Gr,nr,x),Pe=Sa(u,q,Ir,dr),Se=_(P||!1),Pr=w(Se,2),B=Pr[0],$=Pr[1],N=g??B,Yr=Er(function(t){g===void 0&&$(t)});Y(function(){$(g||!1)},[g]);var Lr=sr(N);Lr.current=N;var Hr=sr([]);Hr.current=[];var ie=Er(function(t){var l;Yr(t),((l=Hr.current[Hr.current.length-1])!==null&&l!==void 0?l:N)!==t&&(Hr.current.push(t),c==null||c(t))}),ue=sr(),xr=function(){clearTimeout(ue.current)},vr=function(l){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;xr(),k===0?ie(l):ue.current=setTimeout(function(){ie(l)},k*1e3)};ge(function(){return xr},[]);var Je=_(!1),le=w(Je,2),Xr=le[0],ve=le[1];Y(function(t){(!t||N)&&ve(!0)},[N]);var Fr=_(null),_r=w(Fr,2),Sr=_r[0],Ar=_r[1],De=_([0,0]),se=w(De,2),$r=se[0],Te=se[1],Or=function(l){Te([l.clientX,l.clientY])},Vr=fn(N,or,ar?$r:lr,cr,z,y,Qr),Q=w(Vr,11),Ke=Q[0],ke=Q[1],Le=Q[2],qr=Q[3],$e=Q[4],Ze=Q[5],Ur=Q[6],Ne=Q[7],Ye=Q[8],gr=Q[9],Dr=Q[10],ce=vn(C,f,d,b),We=w(ce,2),Nr=We[0],jr=We[1],fe=Nr.has("click"),pr=jr.has("click")||jr.has("contextMenu"),Tr=Er(function(){Xr||Dr()}),Xe=function(){Lr.current&&ar&&pr&&vr(!1)};dn(N,lr,or,Tr,Xe),Y(function(){Tr()},[$r,cr]),Y(function(){N&&!(z!=null&&z[cr])&&Tr()},[JSON.stringify(y)]);var Oe=Ue(function(){var t=cn(z,u,gr,ar);return ne(t,J==null?void 0:J(gr))},[gr,J,z,u,ar]);Ea(n,function(){return{nativeElement:be.current,forceAlign:Tr}});var pe=_(0),ze=w(pe,2),ra=ze[0],ea=ze[1],aa=_(0),Be=w(aa,2),na=Be[0],ta=Be[1],Re=function(){if(T&&lr){var l=lr.getBoundingClientRect();ea(l.width),ta(l.height)}},p=function(){Re(),Tr()},He=function(l){ve(!1),Dr(),h==null||h(l)},xe=function(){return new Promise(function(l){Re(),Ar(function(){return l})})};Y(function(){Sr&&(Dr(),Sr(),Ar(null))},[Sr]);function rr(t,l,k,R){kr[t]=function(L){var Ve;R==null||R(L),vr(l,k);for(var la=arguments.length,ha=new Array(la>1?la-1:0),qe=1;qe<la;qe++)ha[qe-1]=arguments[qe];(Ve=O[t])===null||Ve===void 0||Ve.call.apply(Ve,[O,L].concat(ha))}}(fe||pr)&&(kr.onClick=function(t){var l;Lr.current&&pr?vr(!1):!Lr.current&&fe&&(Or(t),vr(!0));for(var k=arguments.length,R=new Array(k>1?k-1:0),L=1;L<k;L++)R[L-1]=arguments[L];(l=O.onClick)===null||l===void 0||l.call.apply(l,[O,t].concat(R))}),hn(N,pr,lr,or,i,j,br,vr);var re=Nr.has("hover"),Fe=jr.has("hover"),ee,_e;re&&(rr("onMouseEnter",!0,M,function(t){Or(t)}),rr("onPointerEnter",!0,M,function(t){Or(t)}),ee=function(){(N||Xr)&&vr(!0,M)},ar&&(kr.onMouseMove=function(t){var l;(l=O.onMouseMove)===null||l===void 0||l.call(O,t)})),Fe&&(rr("onMouseLeave",!1,W),rr("onPointerLeave",!1,W),_e=function(){vr(!1,W)}),Nr.has("focus")&&rr("onFocus",!0,D),jr.has("focus")&&rr("onBlur",!1,m),Nr.has("contextMenu")&&(kr.onContextMenu=function(t){var l;Lr.current&&jr.has("contextMenu")?vr(!1):(Or(t),vr(!0)),t.preventDefault();for(var k=arguments.length,R=new Array(k>1?k-1:0),L=1;L<k;L++)R[L-1]=arguments[L];(l=O.onContextMenu)===null||l===void 0||l.call.apply(l,[O,t].concat(R))}),Jr&&(kr.className=ne(O.className,Jr));var de=U(U({},O),kr),Ae={},oa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];oa.forEach(function(t){K[t]&&(Ae[t]=function(){for(var l,k=arguments.length,R=new Array(k),L=0;L<k;L++)R[L]=arguments[L];(l=de[t])===null||l===void 0||l.call.apply(l,[de].concat(R)),K[t].apply(K,R)})});var ia=da(Rr,U(U({},de),Ae)),ua={x:Ze,y:Ur},_a=fr?U({},fr!==!0?fr:{}):null;return A(Qa,null,A(Ra,{disabled:!N,ref:Ie,onResize:p},A(ln,{getTriggerDOMNode:Cr},ia)),A(ba.Provider,{value:zr},A(un,{portal:r,ref:ir,prefixCls:u,popup:V,className:ne(mr,Oe),style:yr,target:lr,onMouseEnter:ee,onMouseLeave:_e,onPointerEnter:ee,zIndex:I,open:N,keepDom:Xr,fresh:te,onClick:oe,mask:i,motion:Z,maskMotion:Pe,onVisibleChanged:He,onPrepare:xe,forceRender:X,autoDestroy:Kr,getPopupContainer:G,align:gr,arrow:_a,arrowPos:ua,ready:Ke,offsetX:ke,offsetY:Le,offsetR:qr,offsetB:$e,onAlign:Tr,stretch:T,targetWidth:ra/Ne,targetHeight:na/Ye})))});return a}const Dn=mn(Fa);export{Fa as P,Dn as T};
