import{h as K,g as C,e as b,c as S}from"./@babel-38a01a7f.js";import{N as le,p as Ze,y as o,h as X,_ as et,l as tt,w as rt,q as nt,a as oe,T as Ie}from"./preact-0e59a8f0.js";import{c as ue}from"./classnames-e9f2203f.js";import{R as xe}from"./rc-resize-observer-5ec527d8.js";import{l as at,i as it,a as st}from"./rc-util-010eb662.js";var ft=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],x=void 0;function ot(e,i){var l=e.prefixCls,s=e.invalidate,f=e.item,n=e.renderItem,u=e.responsive,R=e.responsiveDisabled,v=e.registerSize,E=e.itemKey,p=e.className,H=e.style,Y=e.children,J=e.display,c=e.order,O=e.component,z=O===void 0?"div":O,P=K(e,ft),m=u&&!J;function $(h){v(E,h)}Ze(function(){return function(){$(null)}},[]);var Q=n&&f!==x?n(f):Y,w;s||(w={opacity:m?0:1,height:m?0:x,overflowY:m?"hidden":x,order:u?c:x,pointerEvents:m?"none":x,position:m?"absolute":x});var V={};m&&(V["aria-hidden"]=!0);var _=o(z,C({className:ue(!s&&l,p),style:b(b({},w),H)},V,P,{ref:i}),Q);return u&&(_=o(xe,{onResize:function(Z){var F=Z.offsetWidth;$(F)},disabled:R},_)),_}var M=le(ot);M.displayName="Item";function lt(e){if(typeof MessageChannel>"u")at(e);else{var i=new MessageChannel;i.port1.onmessage=function(){return e()},i.port2.postMessage(void 0)}}function ut(){var e=et(null),i=function(s){e.current||(e.current=[],lt(function(){tt(function(){e.current.forEach(function(f){f()}),e.current=null})})),e.current.push(s)};return i}function A(e,i){var l=X(i),s=S(l,2),f=s[0],n=s[1],u=it(function(R){e(function(){n(R)})});return[f,u]}var q=rt.createContext(null),dt=["component"],vt=["className"],ct=["className"],mt=function(i,l){var s=nt(q);if(!s){var f=i.component,n=f===void 0?"div":f,u=K(i,dt);return o(n,C({},u,{ref:l}))}var R=s.className,v=K(s,vt),E=i.className,p=K(i,ct);return o(q.Provider,{value:null},o(M,C({ref:l,className:ue(R,E)},v,p)))},be=le(mt);be.displayName="RawItem";var yt=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],ze="responsive",Pe="invalidate";function St(e){return"+ ".concat(e.length," ...")}function Rt(e,i){var l=e.prefixCls,s=l===void 0?"rc-overflow":l,f=e.data,n=f===void 0?[]:f,u=e.renderItem,R=e.renderRawItem,v=e.itemKey,E=e.itemWidth,p=E===void 0?10:E,H=e.ssr,Y=e.style,J=e.className,c=e.maxCount,O=e.renderRest,z=e.renderRawRest,P=e.suffix,m=e.component,$=m===void 0?"div":m,Q=e.itemComponent,w=e.onVisibleChange,V=K(e,yt),_=H==="full",h=ut(),Z=A(h,null),F=S(Z,2),T=F[0],We=F[1],N=T||0,De=A(h,new Map),de=S(De,2),ve=de[0],Ae=de[1],Ke=A(h,0),ce=S(Ke,2),Me=ce[0],Oe=ce[1],$e=A(h,0),me=S($e,2),k=me[0],Ve=me[1],Fe=A(h,0),ye=S(Fe,2),U=ye[0],Te=ye[1],ke=X(null),Se=S(ke,2),ee=Se[0],Re=Se[1],Ue=X(null),he=S(Ue,2),L=he[0],Le=he[1],I=oe(function(){return L===null&&_?Number.MAX_SAFE_INTEGER:L||0},[L,T]),je=X(!1),_e=S(je,2),Ge=_e[0],Xe=_e[1],te="".concat(s,"-item"),Ne=Math.max(Me,k),re=c===ze,y=n.length&&re,ge=c===Pe,qe=y||typeof c=="number"&&n.length>c,g=oe(function(){var t=n;return y?T===null&&_?t=n:t=n.slice(0,Math.min(n.length,N/p)):typeof c=="number"&&(t=n.slice(0,c)),t},[n,p,T,c,y]),ne=oe(function(){return y?n.slice(I+1):n.slice(g.length)},[n,g,y,I]),j=Ie(function(t,r){var a;return typeof v=="function"?v(t):(a=v&&(t==null?void 0:t[v]))!==null&&a!==void 0?a:r},[v]),Be=Ie(u||function(t){return t},[u]);function G(t,r,a){L===t&&(r===void 0||r===ee)||(Le(t),a||(Xe(t<n.length-1),w==null||w(t)),r!==void 0&&Re(r))}function He(t,r){We(r.clientWidth)}function Ce(t,r){Ae(function(a){var d=new Map(a);return r===null?d.delete(t):d.set(t,r),d})}function Ye(t,r){Ve(r),Oe(k)}function Je(t,r){Te(r)}function ae(t){return ve.get(j(g[t],t))}st(function(){if(N&&typeof Ne=="number"&&g){var t=U,r=g.length,a=r-1;if(!r){G(0,null);return}for(var d=0;d<r;d+=1){var D=ae(d);if(_&&(D=D||0),D===void 0){G(d-1,void 0,!0);break}if(t+=D,a===0&&t<=N||d===a-1&&t+ae(a)<=N){G(a,null);break}else if(t+Ne>N){G(d-1,t-D-U+k);break}}P&&ae(0)+U>N&&Re(null)}},[N,ve,k,U,j,g]);var Ee=Ge&&!!ne.length,pe={};ee!==null&&y&&(pe={position:"absolute",left:ee,top:0});var W={prefixCls:te,responsive:y,component:Q,invalidate:ge},Qe=R?function(t,r){var a=j(t,r);return o(q.Provider,{key:a,value:b(b({},W),{},{order:r,item:t,itemKey:a,registerSize:Ce,display:r<=I})},R(t,r))}:function(t,r){var a=j(t,r);return o(M,C({},W,{order:r,key:a,item:t,renderItem:Be,itemKey:a,registerSize:Ce,display:r<=I}))},ie,we={order:Ee?I:Number.MAX_SAFE_INTEGER,className:"".concat(te,"-rest"),registerSize:Ye,display:Ee};if(z)z&&(ie=o(q.Provider,{value:b(b({},W),we)},z(ne)));else{var se=O||St;ie=o(M,C({},W,we),typeof se=="function"?se(ne):se)}var fe=o($,C({className:ue(!ge&&s,J),style:Y,ref:i},V),g.map(Qe),qe?ie:null,P&&o(M,C({},W,{responsive:re,responsiveDisabled:!y,order:I,className:"".concat(te,"-suffix"),registerSize:Je,display:!0,style:pe}),P));return re&&(fe=o(xe,{onResize:He,disabled:!y},fe)),fe}var B=le(Rt);B.displayName="Overflow";B.Item=be;B.RESPONSIVE=ze;B.INVALIDATE=Pe;export{B as F};
